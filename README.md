# cldfgeojson

[![Build Status](https://github.com/cldf/cldfgeojson/workflows/tests/badge.svg)](https://github.com/cldf/cldfgeojson/actions?query=workflow%3Atests)
[![PyPI](https://img.shields.io/pypi/v/cldfgeojson.svg)](https://pypi.org/project/cldfgeojson)

`cldfgeojson` provides tools to work with geographic data structures encoded as [GeoJSON](https://geojson.org)
in the context of [CLDF](https://cldf.clld.org) datasets.


## Install

```shell
pip install cldfgeojson
```


## Creating CLDF datasets with speaker area data in GeoJSON

The functionality in [`cldfgeojson.create`](src/cldfgeojson/create.py) helps adding speaker area
information when creating CLDF datasets (e.g. with [`cldfbench`](https://github.com/cldf/cldfbench)).


## Working around [Antimeridian problems](https://antimeridian.readthedocs.io/en/stable/)

Tools like `shapely` allow doing geometry with shapes derived from GeoJSON, e.g. computing
intersections or centroids. But `shapely` considers coordinates to be in the cartesian plane rather
than on the surface of the earth. While this works generally well enough close to the equator, it
fails for geometries crossing the antimeridian. To prepare GeoJSON objects for investigation with
`shapely`, we provide a function that "moves" objects on a - somewhat linguistically informed -
pacific-centered cartesian plane: longitudes less than 26°W are adapted by adding 360°, basically
moving the interval of valid longitudes from -180°..180° to -26°..334°. While this just moves the
antimeridian problems to 26°W, it's still useful because most spatial data about languages does not
cross 26°W - which cannot be said for 180°E because this longitude is crosssed by the speaker area
of the Austronesian family.

```python
>>> from cldfgeojson.geojson import pacific_centered
>>> from shapely.geometry import shape
>>> p1 = shape({"type": "Point", "coordinates": [179, 0]})
>>> p2 = shape({"type": "Point", "coordinates": [-179, 0]})
>>> p1.distance(p2)
358.0
>>> p1 = shape(pacific_centered({"type": "Point", "coordinates": [179, 0]}))
>>> p2 = shape(pacific_centered({"type": "Point", "coordinates": [-179, 0]}))
>>> p1.distance(p2)
2.0
```


## Manipulating geo-referenced images in GeoTIFF format

The [`cldfgeojson.geotiff`](src/cldfgeojson/geotiff.py) module provides functionality related to
images in [GeoTIFF](https://en.wikipedia.org/wiki/GeoTIFF) format.


## Commandline interface

`cldfgeojson` also provides [`cldfbench` sub-commands](https://github.com/cldf/cldfbench?tab=readme-ov-file#commands).
These are particularly useful to validate GeoJSON speaker areas during dataset creation/curation.


### `geojson.validate`

The[`geojson.validate`](src/cldfgeojson/commands/validate.py) command can be used to make sure GeoJSON [Polygon](https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6) 
and [MultiPolygon](https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.7) geometries for speaker
areas are valid. (For a short explanation what this validity entails, see https://postgis.net/workshops/postgis-intro/validity.html .)

The dataset used for testing this package contains one invalid geometry, which can be detected and
reported running
```shell
$ cldfbench geojson.validate tests/fixtures/dataset/
id        glottocode    reason                        fixable
--------  ------------  ----------------------------  ---------
bare1276  abcd1234      Ring Self-intersection[15 5]  True
```

### `geojson.glottolog_distance`

While speakers of languages, and thus the "language area", can move around over time, for most
languages and the timespan since the languages have been described in the literature this has not
happened on a large scale. Thus, comparing speaker areas reported in a dataset to the corresponding
point coordinates for the languages as reported by [Glottolog](https://glottolog.org) is a good
plausibility check which will detect issues such as mistyped Glottocodes, etc.

Such a comparison is provided by the [`geojson.glottolog_distance`](src/cldfgeojson/commands/glottolog_distance.py) command, which computes
the distances between speaker area (Multi)Polygons and Glottolog's point coordinate. To keep the
implementation simple, this computation is done with [`shapely`](https://shapely.readthedocs.io/en/stable/),
which allows for "analysis of geometric objects in the Cartesian plane". Thus, distances are reported
in "grid units" of a geographic coordinate system and require some interpretation. Close to the equator,
where we find the biggest linguistic diversity, one grid unit roughly equals a distance of 110km on the
globe, whereas closer to the poles it may be less. A distance of 0 means that the speaker area
(or its convex hull, taking into account that Glottolog's point coordinate is often chosen as some
sort of midpoint in cases of spread out, disjoint speaker populations) contains the Glottolog coordinate.

The command needs to access the [Glottolog data](https://github.com/glottolog/glottolog). To do so, 
a local clone or [export of a specific version](https://github.com/glottolog/glottolog/releases) must be available.
The path to clone or export must be passed as value of the `--glottolog` option. If a full clone is
available, a particular release may be selected by passing the relese tag as value of the `--glottolog-version`
option.

As an example, we can compute Glottolog distances for the speaker areas of Uralic languages as
reported in the [the CLDF dataset derived from Rantanen et al.'s "Geographical database of the Uralic languages"](https://github.com/cldf-datasets/rantanenurageo). Assuming this dataset is downloaded to `rantanenurageo`
and Glottolog data is available at `glottolog`, we can run
```shell
cldfbench geojson.glottolog_distance rantanenurageo/cldf --glottolog glottolog
```
and get a (long) listing the results printed to the screen.
Since we are typically interested in the outliers, i.e. cases where the Glottolog coordinate is not
contained in the area, we can just use `grep` to filter the result list:
```shell
cldfbench geojson.glottolog_distance rantanenurageo/cldf --glottolog glottolog  | grep False
Ingrian                                0.00  False              13
Karelian                               0.00  False              16
...
```
But we can also make use of the `--format` option to create TSV output which we can then manipulate with
the [`csvkit`](https://csvkit.readthedocs.io/en/latest/) tools to give a better overview:
```shell
cldfbench geojson.glottolog_distance rantanenurageo/cldf --glottolog glottolog --format tsv | csvformat -t | csvsort -c Distance | csvcut -c ID,Distance
...
KomiYazva,1.0292353508840884
EasternMari,1.6462432136183747
KarelianLivvi,2.431383058632656
TomskregionSelkupSouthernSelkup,2.4567889514058106
```


### `geojson.multipolygon_spread` 

The[`geojson.multipolygon_spread`](src/cldfgeojson/commands/glottolog_distance.py) command provides another
check for the plausibility of Glottocode assignments to the speaker areas reported in a dataset. Sometimes
datasets assign dialect-level Glottocodes to polygons and later aggregate these polygons to compute the
area for the parent language. Incorrect Glottocode assignments may then result in a language area containing
one outlier polygon, i.e. one polygon which is far away from the rest of the area.

With `geojson.multipolygon_spread` we compute the spread of polygons which are aggregated into a single
language area. High spread may be a symptom of wrong Glottocode assignment. Of course, the spread numbers
need interpretation as well. For languages spoken on multiple islands in the pacific a spread > 5 may
be expected, while for languages spoken in [Morobe province (Papua New Guinea)](https://glottolog.org/glottolog/language.map.html?country=PG#8/-5.665/146.692) 
a spread > 2 already means that polygons of the area are probably separated by at least one different
language area.

The options and output of `geojson.multipolygon_spread` are largely the same as for `geojson.glottolog_distance`.
A row in the dataset's `LanguageTable` is considered to represent a language-level Glottolog languoid 
either if `LanguageTable` contains a column named `Glottolog_Languoid_Level` with the value `language`
or if the [`glottocode`](http://cldf.clld.org/v1.0/terms.rdf#glottocode) column of `LanguageTable`
specifies a language-level Glottolog languoid.
(In the latter case, access to Glottolog data is necessary, see above.)


### `geojson.geojson`

While most of the GeoJSON data that comes with CLDF datasets can be loaded as such directly in tools
like QGIS, it is sometimes useful to inspect only subsets of the data. The [`geojson.geojson`](src/cldfgeojson/commands/geojson.py)
command creates GeoJSON representations of configurable subsets of the speaker areas reported in a
dataset. This command is intended to be used in tandem with the validation commands above. I.e. the
output of the commands above can be manipulated, filtered and pruned to a simple list of language `ID`s
which can then serve as input to `geojson.geojson`.

A full example of this workflow would look as follows:
```shell
cldfbench geojson.glottolog_distance rantanenurageo/cldf --glottolog glottolog --format tsv | \
csvformat -t | \
csvgrep -c Distance -i -r"^0" | \
csvcut -c ID | csvformat -E | \
cldfbench geojson.geojson rantanenurageo/cldf -
```
and result in GeoJSON looking as follows:
```geojson
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "MultiPolygon",
        "coordinates": [
          [
            [
              [
                31.59690223607956,
                61.38916376312907
              ],
              [
                31.64606104530679,
                61.361787899305874
              ],
              [
                31.625161192282043,
                61.34854151358487
              ],
              [
                31.633403387841188,
                61.338238769135316
              ],
              [
                31.651065235467623,
                61.32764166055861
              ],
              [
                31.65930743102662,
                61.31410091071064
              ],
              [
                31.64488358879834,
                61.30173761737096
              ],
              [
                31.619568273866967,
                61.306447443405226
              ],
              [
                31.57659111130895,
                61.32823038881262
              ],
              [
                31.545977242089382,
                61.34824714945745
              ],
              [
                31.53331958462353,
                61.36119917105125
              ],
              [
                31.528904122717023,
                61.375623013280695
              ],
              [
                31.53744068240313,
                61.39446231741725
              ],
              [
                31.55627998653828,
                61.39917214345128
              ],
              [
                31.578357296071665,
                61.39534540979876
              ],
              [
                31.59690223607956,
                61.38916376312907
              ]
            ]
          ],
          [
            [
              [
                31.873898879685736,
                61.30821362816858
              ],
              [
                31.88567344476971,
                61.300854524990314
              ],
              [
                31.838869548560638,
                61.299971432608785
              ],
              [
                31.819735880299135,
                61.30291507388026
              ],
              [
                31.75527013646334,
                61.33794440500848
              ],
              [
                31.7417293866166,
                61.34294859516971
              ],
              [
                31.713764794541536,
                61.34942460596662
              ],
              [
                31.70081277294887,
                61.355017524382035
              ],
              [
                31.71435352279565,
                61.355017524382035
              ],
              [
                31.70670005549092,
                61.36590899708587
              ],
              [
                31.695219854533697,
                61.371207551374255
              ],
              [
                31.666077805950266,
                61.375623013281064
              ],
              [
                31.679029827542905,
                61.38209902407807
              ],
              [
                31.69315930564409,
                61.383276480586645
              ],
              [
                31.707288783745156,
                61.38092156756969
              ],
              [
                31.720535169464917,
                61.37562301328119
              ],
              [
                31.728188636769662,
                61.375623013281306
              ],
              [
                31.75085467455672,
                61.362376627560415
              ],
              [
                31.801190940291537,
                61.351485154856825
              ],
              [
                31.824151342205536,
                61.34118241040726
              ],
              [
                31.82768371173081,
                61.336178220246076
              ],
              [
                31.832687901891557,
                61.32028255738089
              ],
              [
                31.83798645617933,
                61.314100910711204
              ],
              [
                31.849172293009172,
                61.31056854118574
              ],
              [
                31.873898879685736,
                61.30821362816858
              ]
            ]
          ],
          [
            [
              [
                33.39782716198761,
                61.048846913807935
              ],
              [
                33.470386868154975,
                61.00115070671873
              ],
              [
                33.46990770284786,
                61.000146918319864
              ],
              [
                33.44167272035115,
                60.938855207579564
              ],
              [
                33.42982782009065,
                60.869490873904255
              ],
              [
                33.389277988356866,
                60.84995966994735
              ],
              [
                33.33354153092832,
                60.82758423490065
              ],
              [
                33.24127039790622,
                60.76757911970041
              ],
              [
                33.13172368717866,
                60.7297596513438
              ],
              [
                33.04812088781427,
                60.71212781339208
              ],
              [
                32.91596177500672,
                60.70732601444027
              ],
              [
                32.876817269521034,
                60.6998002036442
              ],
              [
                32.847361047911114,
                60.70565025993888
              ],
              [
                32.81409790155632,
                60.721545922803635
              ],
              [
                32.80350079298301,
                60.745978145355366
              ],
              [
                32.80615007012631,
                60.77718074283125
              ],
              [
                32.81733590695384,
                60.8378197530204
              ],
              [
                32.80585570599938,
                60.86136888319061
              ],
              [
                32.77847984218482,
                60.878442002564015
              ],
              [
                32.771455695604,
                60.88139897655546
              ],
              [
                32.72107883741172,
                60.90257986098793
              ],
              [
                32.644249800252034,
                60.960275229904745
              ],
              [
                32.63247523516991,
                60.97469907213417
              ],
              [
                32.62953159389936,
                60.99559892516038
              ],
              [
                32.62158376246905,
                60.99707074579589
              ],
              [
                32.60863174087852,
                60.99177219150736
              ],
              [
                32.591558621509336,
                60.99177219150716
              ],
              [
                32.58037278468117,
                60.9982482023041
              ],
              [
                32.5789009640459,
                61.00590166960943
              ],
              [
                32.58243333357057,
                61.01679314231333
              ],
              [
                32.585082610714075,
                61.032688805178346
              ],
              [
                32.58155024118937,
                61.0603590331287
              ],
              [
                32.569481311980155,
                61.08125888615486
              ],
              [
                32.533568888478754,
                61.11834876617308
              ],
              [
                32.531465420942574,
                61.11988402971049
              ],
              [
                32.50854793767845,
                61.13659934205501
              ],
              [
                32.210504259015934,
                61.224467034001464
              ],
              [
                32.10991090945418,
                61.25425044443078
              ],
              [
                32.11119164260653,
                61.254886390970086
              ],
              [
                32.10991090945419,
                61.254250444430795
              ],
              [
                31.912460580335686,
                61.31233472594864
              ],
              [
                31.89744800985371,
                61.319693829127026
              ],
              [
                31.88243543937169,
                61.33146839421214
              ],
              [
                31.865951048253972,
                61.35207388311125
              ],
              [
                31.85682576031382,
                61.35913862216241
              ],
              [
                31.804428945689803,
                61.36590899708621
              ],
              [
                31.76645597329332,
                61.376506105662884
              ],
              [
                31.73083791391357,
                61.39181304027353
              ],
              [
                31.70081277294891,
                61.41035798028265
              ],
              [
                31.63987939863752,
                61.46834771332751
              ],
              [
                31.61780208910437,
                61.48218282730264
              ],
              [
                31.598962784969387,
                61.486009560955104
              ],
              [
                31.593369866554312,
                61.47835609364981
              ],
              [
                31.596607871952404,
                61.4648153438019
              ],
              [
                31.604555703384467,
                61.4512745939537
              ],
              [
                31.616035904341686,
                61.44097184950415
              ],
              [
                31.64135121927309,
                61.42831419203755
              ],
              [
                31.65224269197605,
                61.416245262825285
              ],
              [
                31.652242691976024,
                61.39887777932451
              ],
              [
                31.625161192282054,
                61.405942518375575
              ],
              [
                31.59219241004588,
                61.4244874583847
              ],
              [
                31.57659111130897,
                61.440677485376966
              ],
              [
                31.572470013529415,
                61.453923871097906
              ],
              [
                31.563050361461976,
                61.46452097967461
              ],
              [
                31.551570160504564,
                61.47452935999713
              ],
              [
                31.542444872564108,
                61.485420832700804
              ],
              [
                31.538029410657536,
                61.49719539778624
              ],
              [
                31.537735046530386,
                61.50573195747298
              ],
              [
                31.53449704113219,
                61.51426851715978
              ],
              [
                31.52213374779335,
                61.52692617462648
              ],
              [
                31.518704703553556,
                61.529184839700626
              ],
              [
                31.50716110633689,
                61.531488846933975
              ],
              [
                31.501174899364155,
                61.53967733103426
              ],
              [
                31.513902261163405,
                61.544963933140785
              ],
              [
                31.545964116449767,
                61.56787071520641
              ],
              [
                31.57773796747602,
                61.588497557278124
              ],
              [
                31.59773870265156,
                61.60663748316262
              ],
              [
                31.621680836040312,
                61.61652780509014
              ],
              [
                31.642176880827712,
                61.628314718066434
              ],
              [
                31.655230122906318,
                61.640352840309305
              ],
              [
                31.661367730729303,
                61.656192585528096
              ],
              [
                31.6632428601134,
                61.66861123857051
              ],
              [
                31.65125277676512,
                61.68863526182653
              ],
              [
                31.635243185449973,
                61.70701091640336
              ],
              [
                31.62669430466089,
                61.72513215818695
              ],
              [
                31.629361372554683,
                61.74287376713301
              ],
              [
                31.63951977184215,
                61.76036179023467
              ],
              [
                31.65718193958923,
                61.77759444019128
              ],
              [
                31.689584527438086,
                61.79253841095311
              ],
              [
                31.749473368962338,
                61.79516880547593
              ],
              [
                31.80440859036568,
                61.80224561414623
              ],
              [
                31.80416950888446,
                61.802901475802294
              ],
              [
                31.88211840767894,
                61.819032801963324
              ],
              [
                31.935168632434287,
                61.839216338124324
              ],
              [
                31.957550917571634,
                61.850420039264435
              ],
              [
                31.991561161383853,
                61.86631590625787
              ],
              [
                32.03821886975144,
                61.90001245062526
              ],
              [
                32.100376327970004,
                61.930718214332764
              ],
              [
                32.166390092420784,
                61.978626785279076
              ],
              [
                32.23885050994567,
                62.036759462189906
              ],
              [
                32.28534689179394,
                62.07276808525843
              ],
              [
                32.3353035728451,
                62.10233251138645
              ],
              [
                32.39352203163688,
                62.12736024605355
              ],
              [
                32.441798040843544,
                62.14645986414394
              ],
              [
                32.47449422219199,
                62.15356548787387
              ],
              [
                32.499689829387236,
                62.150846981360296
              ],
              [
                32.50123355143061,
                62.156986872565014
              ],
              [
                32.498889556135616,
                62.15886836781659
              ],
              [
                32.48390297366801,
                62.17089158089439
              ],
              [
                32.46907806230854,
                62.181837160464504
              ],
              [
                32.48481303119116,
                62.19305558686382
              ],
              [
                32.53370732175062,
                62.242835275854375
              ],
              [
                32.55605273516184,
                62.268732558826976
              ],
              [
                32.5869916842907,
                62.285632245843196
              ],
              [
                32.6289548662582,
                62.30544626115635
              ],
              [
                32.633642172502036,
                62.32633213895341
              ],
              [
                32.66220504601118,
                62.347307319370934
              ],
              [
                32.682651695701225,
                62.35789770365431
              ],
              [
                32.709564281036535,
                62.353936114732356
              ],
              [
                32.74715013864128,
                62.337652600474264
              ],
              [
                32.743048322371,
                62.340668027797484
              ],
              [
                32.78301120937713,
                62.33900725809954
              ],
              [
                32.828414974598864,
                62.33944728287238
              ],
              [
                32.874274397190185,
                62.34219433072549
              ],
              [
                32.97554236210221,
                62.34489106977642
              ],
              [
                33.07183045120537,
                62.34773250609162
              ],
              [
                33.25446311804102,
                62.35366522037527
              ],
              [
                33.36061023586344,
                62.36144436915828
              ],
              [
                33.41990224020666,
                62.36272987683693
              ],
              [
                33.45545679001374,
                62.30713053140536
              ],
              [
                33.50703970457298,
                62.26349915328555
              ],
              [
                33.56627000261683,
                62.18695750504952
              ],
              [
                33.69378693395825,
                62.07440072095972
              ],
              [
                33.69813163966554,
                62.05746529679226
              ],
              [
                33.70869266597664,
                62.01591621177836
              ],
              [
                33.71044999038142,
                62.00896677535882
              ],
              [
                33.69668817532108,
                61.897365742244446
              ],
              [
                33.670643740771865,
                61.82385756328833
              ],
              [
                33.66872458427015,
                61.81807876725081
              ],
              [
                33.59491584437615,
                61.78522625219173
              ],
              [
                33.49093230667801,
                61.761887708490356
              ],
              [
                33.40487452750546,
                61.74014102078116
              ],
              [
                33.30997057482638,
                61.707698847014825
              ],
              [
                33.252905289002776,
                61.67765185666741
              ],
              [
                33.19683530243085,
                61.702243587615065
              ],
              [
                33.117046205707204,
                61.711831105153266
              ],
              [
                32.82840370855189,
                61.781839983684286
              ],
              [
                32.63163349348082,
                61.82850820732384
              ],
              [
                32.828403708551846,
                61.78183998368422
              ],
              [
                33.117046205707176,
                61.711831105153266
              ],
              [
                33.19683530243082,
                61.702243587615065
              ],
              [
                33.252905289002754,
                61.67765185666736
              ],
              [
                33.23117777816688,
                61.666071942546026
              ],
              [
                33.2073790533544,
                61.60873930806812
              ],
              [
                33.213347806319135,
                61.53848862377522
              ],
              [
                33.243612214139986,
                61.52578362011489
              ],
              [
                33.28841473511976,
                61.506931912643324
              ],
              [
                33.39413379933918,
                61.46919267149052
              ],
              [
                33.51631867129466,
                61.43736331566228
              ],
              [
                33.51639321625819,
                61.43713166040821
              ],
              [
                33.53203555340472,
                61.388540773902925
              ],
              [
                33.47755262684603,
                61.345430547972214
              ],
              [
                33.40009373523492,
                61.30421564853529
              ],
              [
                33.358478036785506,
                61.234267422392584
              ],
              [
                33.356071817696865,
                61.15690310279318
              ],
              [
                33.37015744430738,
                61.08202258201144
              ],
              [
                33.37018600353923,
                61.0818738406751
              ],
              [
                33.37031004329152,
                61.081227982044204
              ],
              [
                33.39782716198761,
                61.048846913807935
              ]
            ],
            [
              [
                32.48777663473151,
                62.12784370220011
              ],
              [
                32.477186771896804,
                62.12261665360608
              ],
              [
                32.49296457318787,
                62.12409842156275
              ],
              [
                32.49680723053357,
                62.13938193593692
              ],
              [
                32.48777663473151,
                62.12784370220011
              ]
            ],
            [
              [
                32.44840228482861,
                62.10840892353365
              ],
              [
                32.44851494010047,
                62.10730806553523
              ],
              [
                32.44893717694537,
                62.10834277656001
              ],
              [
                32.45074966492297,
                62.109567566474865
              ],
              [
                32.44840228482861,
                62.10840892353365
              ]
            ],
            [
              [
                32.57120238618806,
                61.842818067533095
              ],
              [
                32.577464479686526,
                61.841341604958586
              ],
              [
                32.57120238618808,
                61.8428180675331
              ],
              [
                32.57120238618806,
                61.842818067533095
              ]
            ],
            [
              [
                31.825273166131122,
                61.75198766482257
              ],
              [
                31.82170533018248,
                61.75733449399391
              ],
              [
                31.822909703870007,
                61.751819112914696
              ],
              [
                31.825273166131122,
                61.75198766482257
              ]
            ],
            [
              [
                32.1581104556258,
                61.90337614417122
              ],
              [
                32.1299248537932,
                61.87808264961796
              ],
              [
                32.155317851507284,
                61.89681352348109
              ],
              [
                32.15940429452494,
                61.90359664378344
              ],
              [
                32.1581104556258,
                61.90337614417122
              ]
            ],
            [
              [
                32.238516627225394,
                61.92294623738883
              ],
              [
                32.239110208232326,
                61.92598887908922
              ],
              [
                32.20852700847591,
                61.91196827288229
              ],
              [
                32.19402767569207,
                61.90949725639146
              ],
              [
                32.21218925431258,
                61.91073533551618
              ],
              [
                32.238516627225394,
                61.92294623738883
              ]
            ],
            [
              [
                32.23887086560724,
                61.95909297468376
              ],
              [
                32.2412861456675,
                61.93714253444618
              ],
              [
                32.24487847865256,
                61.95555650324644
              ],
              [
                32.24473730821513,
                61.964835348452695
              ],
              [
                32.23887086560724,
                61.95909297468376
              ]
            ],
            [
              [
                32.31271524735491,
                62.01103893060501
              ],
              [
                32.3418381795228,
                62.015769406595936
              ],
              [
                32.30638543951312,
                62.01284393380932
              ],
              [
                32.31271524735491,
                62.01103893060501
              ]
            ],
            [
              [
                32.34290273446418,
                62.01285083665484
              ],
              [
                32.32689046093744,
                62.01071518705954
              ],
              [
                32.34290273446416,
                62.01285083665481
              ],
              [
                32.35397920015245,
                62.00670635629786
              ],
              [
                32.36861888700071,
                62.00390010545006
              ],
              [
                32.37969849111446,
                62.00177491205133
              ],
              [
                32.36861888700073,
                62.00390010545011
              ],
              [
                32.35397920015249,
                62.00670635629786
              ],
              [
                32.34290273446418,
                62.01285083665484
              ]
            ],
            [
              [
                32.41049731145166,
                61.99128150974736
              ],
              [
                32.451058081283655,
                61.97182209409633
              ],
              [
                32.47290060593235,
                61.96666840072832
              ],
              [
                32.490175233862026,
                61.9488351133044
              ],
              [
                32.49262682510877,
                61.89087412365207
              ],
              [
                32.51012178306375,
                61.861955180765925
              ],
              [
                32.504710956629054,
                61.85313801381921
              ],
              [
                32.51012178306378,
                61.861955180765946
              ],
              [
                32.492626825108815,
                61.89087412365209
              ],
              [
                32.490175233862026,
                61.94883511330445
              ],
              [
                32.47290060593235,
                61.96666840072836
              ],
              [
                32.45105808128364,
                61.97182209409636
              ],
              [
                32.41049731145168,
                61.99128150974736
              ],
              [
                32.37969849111446,
                62.00177491205133
              ],
              [
                32.41049731145166,
                61.99128150974736
              ]
            ],
            [
              [
                32.47427078718067,
                61.83910304794579
              ],
              [
                32.48579192785253,
                61.8422509872113
              ],
              [
                32.474270787180664,
                61.83910304794582
              ],
              [
                32.47554952186532,
                61.825122192798666
              ],
              [
                32.47427078718067,
                61.83910304794579
              ]
            ],
            [
              [
                32.478800531779946,
                61.82360419422708
              ],
              [
                32.496457677114236,
                61.81535560780848
              ],
              [
                32.50756270862672,
                61.819441553476004
              ],
              [
                32.514890365607954,
                61.82213477158686
              ],
              [
                32.50756270862671,
                61.819441553476004
              ],
              [
                32.49645767711426,
                61.81535560780849
              ],
              [
                32.47880053178,
                61.82360419422719
              ],
              [
                32.47554952186532,
                61.825122192798666
              ],
              [
                32.478800531779946,
                61.82360419422708
              ]
            ],
            [
              [
                32.21892152317218,
                61.53220908667861
              ],
              [
                32.219979730765935,
                61.53229380191001
              ],
              [
                32.21892152317215,
                61.53220908667866
              ],
              [
                32.21892152317218,
                61.53220908667861
              ]
            ],
            [
              [
                32.21064773276123,
                61.42122418697911
              ],
              [
                32.22065920999875,
                61.41869712039553
              ],
              [
                32.227407896247456,
                61.43071581335577
              ],
              [
                32.22065920999875,
                61.41869712039556
              ],
              [
                32.210647732761224,
                61.421224186979124
              ],
              [
                32.21064773276123,
                61.42122418697911
              ]
            ],
            [
              [
                32.19780674751093,
                61.44508802410073
              ],
              [
                32.20558259715975,
                61.43998711878089
              ],
              [
                32.21020550310157,
                61.42286235140309
              ],
              [
                32.205582597159776,
                61.43998711878091
              ],
              [
                32.19780674751095,
                61.44508802410079
              ],
              [
                32.176665577552676,
                61.45894600519555
              ],
              [
                32.1547132086831,
                61.461565624944086
              ],
              [
                32.13695303971375,
                61.45795308761845
              ],
              [
                32.15471320868306,
                61.46156562494402
              ],
              [
                32.17666557755264,
                61.45894600519555
              ],
              [
                32.19780674751093,
                61.44508802410073
              ]
            ],
            [
              [
                32.12696602690797,
                61.44261924682046
              ],
              [
                32.11985747902822,
                61.43216374545573
              ],
              [
                32.126966026907965,
                61.44261924682041
              ],
              [
                32.13695303971375,
                61.45795308761845
              ],
              [
                32.12696602690797,
                61.44261924682046
              ]
            ],
            [
              [
                32.125534050241825,
                61.41125149831856
              ],
              [
                32.14889240739761,
                61.39929850511901
              ],
              [
                32.15893168872081,
                61.39365687887769
              ],
              [
                32.18771551146172,
                61.377466491825714
              ],
              [
                32.193750155444334,
                61.37497386351665
              ],
              [
                32.187715511461725,
                61.377466491825714
              ],
              [
                32.15893168872079,
                61.393656878877714
              ],
              [
                32.14889240739762,
                61.399298505119035
              ],
              [
                32.125534050241825,
                61.41125149831856
              ]
            ],
            [
              [
                32.20673911988054,
                61.33531517239092
              ],
              [
                32.23932757675058,
                61.33905878767217
              ],
              [
                32.24624279823491,
                61.34482198645765
              ],
              [
                32.23932757675057,
                61.339058787672194
              ],
              [
                32.20673911988049,
                61.33531517239096
              ],
              [
                32.20673911988054,
                61.33531517239092
              ]
            ],
            [
              [
                32.229385414307096,
                61.315160012554834
              ],
              [
                32.22938541430706,
                61.31516001255486
              ],
              [
                32.21692598988633,
                61.31171231716151
              ],
              [
                32.229385414307096,
                61.315160012554834
              ]
            ],
            [
              [
                32.215450409560205,
                61.28201200554365
              ],
              [
                32.194804574959804,
                61.27685357338292
              ],
              [
                32.13716726180238,
                61.28741630068797
              ],
              [
                32.13315277530555,
                61.28345712673499
              ],
              [
                32.12299648413268,
                61.26690143320445
              ],
              [
                32.133152775305525,
                61.28345712673491
              ],
              [
                32.137167261802354,
                61.28741630068792
              ],
              [
                32.19480457495976,
                61.276853573382894
              ],
              [
                32.215450409560205,
                61.28201200554365
              ]
            ],
            [
              [
                32.045210001445426,
                61.75237579191452
              ],
              [
                32.03815936597988,
                61.736925963619946
              ],
              [
                32.016316836259186,
                61.72789281516814
              ],
              [
                31.993772275343105,
                61.7185599881653
              ],
              [
                31.999905911207104,
                61.71597070500905
              ],
              [
                31.99377227534312,
                61.7185599881653
              ],
              [
                32.01631683625915,
                61.72789281516809
              ],
              [
                32.03815936597987,
                61.73692596361987
              ],
              [
                32.04521000144542,
                61.75237579191448
              ],
              [
                32.045210001445426,
                61.75237579191452
              ]
            ],
            [
              [
                32.054985311055326,
                61.68810480649897
              ],
              [
                32.053858861849754,
                61.686007983778985
              ],
              [
                32.05498531105533,
                61.68810480649896
              ],
              [
                32.054985311055326,
                61.68810480649897
              ]
            ],
            [
              [
                32.0973959829093,
                61.580841218260574
              ],
              [
                32.09739598290931,
                61.58084121826057
              ],
              [
                32.11298910384725,
                61.584541951011744
              ],
              [
                32.0973959829093,
                61.580841218260574
              ]
            ]
          ]
        ]
      },
      "properties": {
        "Branch": "Finnic",
        "Timeperiod": "traditional",
        "Sources": "Nissil\u00e4 1967, Virtaranta 1967, Barancev 1978, Pahomov 2017, Sarhimaa 2017, Palander et al. 2018",
        "Glottocode": "kare1335",
        "ISO_639_3": "krl",
        "Language": "Karelian",
        "Dialect": "Livvi",
        "title": "KarelianLivvi: Karelian [Livvi]",
        "description": "Speaker area of Karelian (Livvi) in the traditional time period based on Nissil\u00e4 1967, Virtaranta 1967, Barancev 1978, Pahomov 2017, Sarhimaa 2017, Palander et al. 2018.",
        "cldf:languageReference": "KarelianLivvi",
        "Macroarea": "None",
        "ISO639P3code": "None",
        "Speaker_Area": "rantanenurageo",
        "stroke": "#F2F3F4",
        "fill": "#F2F3F4",
        "fill-opacity": 0.5
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          29.0726,
          61.6565
        ]
      },
      "properties": {
        "title": "KarelianLivvi -> livv1243: Livvi",
        "marker-color": "#F2F3F4"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "MultiPolygon",
        "coordinates": [
          [
            [
              [
                50.870391658489446,
                57.14836811333506
              ],
              [
                51.00586910323063,
                57.13869687128913
              ],
              [
                51.153824733671605,
                57.141598509304046
              ],
              [
                51.20056894766718,
                57.1377389096085
              ],
              [
                51.21878806516575,
                57.13114760196685
              ],
              [
                51.23523942291883,
                57.12323290552366
              ],
              [
                51.22334605399926,
                57.1038594670084
              ],
              [
                51.21086786829947,
                57.07964754121689
              ],
              [
                51.23938943561344,
                57.07092737712942
              ],
              [
                51.22691124991357,
                57.05348089959273
              ],
              [
                51.22512865195642,
                57.043784868568046
              ],
              [
                51.257215415184575,
                57.02535543485718
              ],
              [
                51.29108477636988,
                57.01856333924783
              ],
              [
                51.30178036411264,
                57.00594615498043
              ],
              [
                51.326736735512355,
                56.97681323631623
              ],
              [
                51.333867127340746,
                56.95640662323094
              ],
              [
                51.35525830282619,
                56.94182362673296
              ],
              [
                51.358823498740506,
                56.94182362673296
              ],
              [
                51.392692859925816,
                56.9427960039753
              ],
              [
                51.41764923132546,
                56.93209845968223
              ],
              [
                51.40873624153986,
                56.91361365542073
              ],
              [
                51.40517104562561,
                56.89414607363773
              ],
              [
                51.439040406810925,
                56.88927759241274
              ],
              [
                51.46221418025347,
                56.89025133940881
              ],
              [
                51.496083541438786,
                56.880512727470744
              ],
              [
                51.51569211896708,
                56.880512727470744
              ],
              [
                51.551344078109494,
                56.87661657208553
              ],
              [
                51.547778882195296,
                56.867848737631
              ],
              [
                51.528170304666936,
                56.85810428779674
              ],
              [
                51.51390952100999,
                56.84835729912024
              ],
              [
                51.485387953696026,
                56.828855703723704
              ],
              [
                51.47647496391043,
                56.805440377889624
              ],
              [
                51.469344572081916,
                56.788845667403024
              ],
              [
                51.43725780885377,
                56.77908064205124
              ],
              [
                51.399823251754256,
                56.76735925627585
              ],
              [
                51.39091026196866,
                56.75661143657605
              ],
              [
                51.39091026196866,
                56.74488303330769
              ],
              [
                51.387345066054344,
                56.71163266715814
              ],
              [
                51.396258055840015,
                56.6852070113006
              ],
              [
                51.380214674225904,
                56.673456319270386
              ],
              [
                51.34099751916924,
                56.676394335959586
              ],
              [
                51.29821516819839,
                56.678352886458526
              ],
              [
                51.267911002927335,
                56.68129052127357
              ],
              [
                51.22512865195642,
                56.686186070168276
              ],
              [
                51.19838968259962,
                56.68716510358099
              ],
              [
                51.17521590915706,
                56.683248817199214
              ],
              [
                51.17343331119991,
                56.679332123520936
              ],
              [
                51.17165071324281,
                56.66170196103162
              ],
              [
                51.1573899295858,
                56.63131956204915
              ],
              [
                51.14847693980026,
                56.60189393010418
              ],
              [
                51.14134654797175,
                56.57244535972228
              ],
              [
                51.14134654797175,
                56.545922025670265
              ],
              [
                51.15204213571451,
                56.52429667142657
              ],
              [
                51.166302919371404,
                56.50561029053377
              ],
              [
                51.175027694508664,
                56.504234604530374
              ],
              [
                51.16260973175088,
                56.489002284623204
              ],
              [
                51.2162181500507,
                56.43456307731093
              ],
              [
                51.20315644015613,
                56.42433099344267
              ],
              [
                51.1691161042236,
                56.406052195792626
              ],
              [
                51.15725124384616,
                56.395109173705045
              ],
              [
                51.16516115076451,
                56.38197339434905
              ],
              [
                51.18889087151934,
                56.37649881566558
              ],
              [
                51.22844040611076,
                56.385257763954584
              ],
              [
                51.268714826421714,
                56.39328353381171
              ],
              [
                51.29009198345062,
                56.37671509508257
              ],
              [
                51.429134624106,
                56.31151223508443
              ],
              [
                51.48303260248265,
                56.27519271566218
              ],
              [
                51.481124573581745,
                56.27186319636642
              ],
              [
                51.47518258039135,
                56.25041167538112
              ],
              [
                51.46626959060581,
                56.21242951989213
              ],
              [
                51.504892546343356,
                56.19259779164608
              ],
              [
                51.504892546343356,
                56.17771726495228
              ],
              [
                51.490037563367416,
                56.1545583090124
              ],
              [
                51.490037563367416,
                56.11482474323809
              ],
              [
                51.49597955655776,
                56.07836622900126
              ],
              [
                51.51974752931936,
                56.073391938557286
              ],
              [
                51.596993440794634,
                56.07505010671513
              ],
              [
                51.65641337269871,
                56.07505010671513
              ],
              [
                51.65938436929384,
                56.055147379650435
              ],
              [
                51.63561639653224,
                56.03523437617823
              ],
              [
                51.558370485057026,
                56.02859442420687
              ],
              [
                51.53460251229543,
                56.023613710631025
              ],
              [
                51.516776532724215,
                56.02195332998305
              ],
              [
                51.490037563367416,
                56.01365035574712
              ],
              [
                51.45141460762981,
                55.9804206052453
              ],
              [
                51.4425016178442,
                55.952152850178116
              ],
              [
                51.47518258039135,
                55.9305223958274
              ],
              [
                51.490037563367416,
                55.88889140760587
              ],
              [
                51.48409557017695,
                55.855554429329956
              ],
              [
                51.56431247824743,
                55.84554775444336
              ],
              [
                51.602935433984975,
                55.8588894150942
              ],
              [
                51.64155838972264,
                55.86555852790522
              ],
              [
                51.779667709798474,
                55.88639508281206
              ],
              [
                51.825943504026,
                55.916044451286766
              ],
              [
                51.86525161357165,
                55.92749760167058
              ],
              [
                51.90687087661436,
                55.88996974680747
              ],
              [
                51.99243557855618,
                55.803904383070034
              ],
              [
                52.08988426687875,
                55.7256802069532
              ],
              [
                52.28953523807625,
                55.60234327490523
              ],
              [
                52.28953523807625,
                55.55531950416426
              ],
              [
                52.21585452251522,
                55.512277042289966
              ],
              [
                52.1041450505357,
                55.50689342193925
              ],
              [
                52.01620355131779,
                55.51900553236732
              ],
              [
                51.84507414743413,
                55.59159994947573
              ],
              [
                51.676321540826756,
                55.735048631923895
              ],
              [
                51.45052579959152,
                55.87197183310419
              ],
              [
                51.35879128092576,
                55.918264604625634
              ],
              [
                51.37725853261358,
                55.933784376159124
              ],
              [
                51.39627291082289,
                55.94842661787925
              ],
              [
                51.391519316270525,
                55.96173294380433
              ],
              [
                51.379635329889666,
                55.98035411711592
              ],
              [
                51.34972630716602,
                55.99200940175179
              ],
              [
                51.31407434802362,
                55.99121177574678
              ],
              [
                51.27271807541838,
                55.98323461052446
              ],
              [
                51.26229330938042,
                55.966901607772236
              ],
              [
                51.23661404473702,
                55.979834208512216
              ],
              [
                51.13997366554703,
                56.04928879355989
              ],
              [
                51.14009278740867,
                56.04939523680439
              ],
              [
                51.14294494414003,
                56.05974748103307
              ],
              [
                51.1315363172145,
                56.08283093685314
              ],
              [
                51.11870161192321,
                56.09953791374227
              ],
              [
                51.094458279706345,
                56.11226217506236
              ],
              [
                51.075919260952304,
                56.11226217506236
              ],
              [
                51.05155463036338,
                56.10773360023131
              ],
              [
                50.97635474299741,
                56.15099591671646
              ],
              [
                50.90861602062685,
                56.190692116029744
              ],
              [
                50.865833669655935,
                56.20854201953867
              ],
              [
                50.83056609405448,
                56.22978552936816
              ],
              [
                50.82751117450216,
                56.23714333590967
              ],
              [
                50.848007690084735,
                56.250159498282194
              ],
              [
                50.883659649227134,
                56.26402194706054
              ],
              [
                50.9121812165411,
                56.27590005015445
              ],
              [
                50.89435523696984,
                56.305579175086116
              ],
              [
                50.865833669655935,
                56.337211514584425
              ],
              [
                50.874617153941394,
                56.359572359090926
              ],
              [
                50.865833669655935,
                56.38461090055485
              ],
              [
                50.77670377179992,
                56.400397602385496
              ],
              [
                50.77278205629425,
                56.38776876453152
              ],
              [
                50.79595582973686,
                56.34926444459287
              ],
              [
                50.76030387059439,
                56.322584815012746
              ],
              [
                50.67830436456683,
                56.32950354719513
              ],
              [
                50.62660902381031,
                56.34531308384811
              ],
              [
                50.60165265241072,
                56.36901510898694
              ],
              [
                50.60343525036776,
                56.389742296561984
              ],
              [
                50.564218095311155,
                56.4035541573964
              ],
              [
                50.51252275455464,
                56.44988590978758
              ],
              [
                50.48059234673056,
                56.48965663007246
              ],
              [
                50.450882380778566,
                56.52736362915999
              ],
              [
                50.43305640120736,
                56.5683069726082
              ],
              [
                50.42117241482656,
                56.58958001369811
              ],
              [
                50.37626171344114,
                56.611586890026395
              ],
              [
                50.35727083653231,
                56.62999590135977
              ],
              [
                50.33445358268117,
                56.64045318913438
              ],
              [
                50.292621950620735,
                56.66553885602131
              ],
              [
                50.24888888073935,
                56.685386507331906
              ],
              [
                50.20895868649985,
                56.69582843985942
              ],
              [
                50.12909829802085,
                56.692696164178834
              ],
              [
                50.100576730706955,
                56.687475125521736
              ],
              [
                50.07474205199326,
                56.67594516546404
              ],
              [
                50.07356581318796,
                56.68434475905512
              ],
              [
                49.93987096640401,
                56.782126945089
              ],
              [
                49.844799075357585,
                56.845549038883426
              ],
              [
                49.85893642577665,
                56.87803330837081
              ],
              [
                49.76386453473016,
                56.95587633811055
              ],
              [
                49.64277130688383,
                57.02385415852878
              ],
              [
                49.58929336817021,
                57.03355539165067
              ],
              [
                49.517989449885405,
                57.06264390076535
              ],
              [
                49.4509737871026,
                57.10194173746727
              ],
              [
                49.38917705792244,
                57.1612777841429
              ],
              [
                49.4034378415794,
                57.2539607987885
              ],
              [
                49.317873139637626,
                57.35666921256765
              ],
              [
                49.23748985575779,
                57.41640633235967
              ],
              [
                49.11864999194982,
                57.534612787099505
              ],
              [
                49.23154786256739,
                57.60789985727811
              ],
              [
                49.31473576723306,
                57.684216107439724
              ],
              [
                49.45045089170212,
                57.72041013768451
              ],
              [
                49.610884707842956,
                57.73754205620451
              ],
              [
                49.93531753603892,
                57.66515208656778
              ],
              [
                50.32392389069121,
                57.521852143860905
              ],
              [
                50.69826946168648,
                57.341451177674784
              ],
              [
                50.85300537775193,
                57.27233787146599
              ],
              [
                50.8561308748325,
                57.26422599011011
              ],
              [
                50.859696070746686,
                57.23047166540685
              ],
              [
                50.852565678918246,
                57.200549156482154
              ],
              [
                50.836522297304136,
                57.16576998020005
              ],
              [
                50.81869631773293,
                57.14353280826261
              ],
              [
                50.870391658489446,
                57.14836811333506
              ]
            ],
            [
              [
                50.75253222355777,
                56.381226509834796
              ],
              [
                50.74659023036737,
                56.40589254721701
              ],
              [
                50.74956122696258,
                56.43382807690687
              ],
              [
                50.67528631208256,
                56.423970820784646
              ],
              [
                50.666373322296955,
                56.40589254721701
              ],
              [
                50.645576346130554,
                56.39109484225573
              ],
              [
                50.61289538358334,
                56.37958153917197
              ],
              [
                50.67528631208256,
                56.36477360660503
              ],
              [
                50.75253222355777,
                56.381226509834796
              ]
            ]
          ],
          [
            [
              [
                52.867148874145364,
                56.047340300525114
              ],
              [
                52.896897599005925,
                56.05472399053616
              ],
              [
                52.90475549884739,
                56.06276755746292
              ],
              [
                53.05624832833008,
                56.02106986091352
              ],
              [
                53.38899994699254,
                55.902997543727544
              ],
              [
                53.617766684823046,
                55.79458707906573
              ],
              [
                53.86138840562949,
                55.660743344233296
              ],
              [
                53.88218538179596,
                55.546615125217436
              ],
              [
                53.83762043286794,
                55.4523776795778
              ],
              [
                53.65638964056072,
                55.4540624691097
              ],
              [
                53.32066702530299,
                55.49615882574715
              ],
              [
                53.059219324925216,
                55.56845943216345
              ],
              [
                52.821539597309226,
                55.68587400037066
              ],
              [
                52.589801862883526,
                55.82630757154498
              ],
              [
                52.45313601950424,
                55.92630792549648
              ],
              [
                52.4561070160995,
                55.97122409405179
              ],
              [
                52.557120900336315,
                55.987846492300186
              ],
              [
                52.67298976754921,
                56.007783941340556
              ],
              [
                52.77994564497636,
                56.060900206088654
              ],
              [
                52.807974494588464,
                56.067419999027294
              ],
              [
                52.80765142442433,
                56.06579687557341
              ],
              [
                52.827483907664615,
                56.047340300525114
              ],
              [
                52.867148874145364,
                56.047340300525114
              ]
            ]
          ],
          [
            [
              [
                53.90817169868203,
                54.67975705038575
              ],
              [
                53.77269425394092,
                54.74360408879962
              ],
              [
                53.679999160170645,
                54.80118600696801
              ],
              [
                53.61582563371427,
                54.831999760571165
              ],
              [
                53.60513004597158,
                54.88740529861159
              ],
              [
                53.647912396942424,
                54.924300046799694
              ],
              [
                53.729911902969995,
                54.95092523009966
              ],
              [
                53.87251973953963,
                54.9304458846277
              ],
              [
                54.05077953525172,
                54.858686003029625
              ],
              [
                54.253995702363405,
                54.7765180767324
              ],
              [
                54.243300114620645,
                54.718901031174475
              ],
              [
                54.207648155478296,
                54.673572968879085
              ],
              [
                54.13634423719343,
                54.640575291202744
              ],
              [
                54.04364914342322,
                54.63851204651446
              ],
              [
                53.90817169868203,
                54.67975705038575
              ]
            ]
          ],
          [
            [
              [
                54.86023559297414,
                55.81969254482952
              ],
              [
                54.881626768459526,
                55.83571263595341
              ],
              [
                54.969568267677566,
                55.85439440427232
              ],
              [
                55.06226336144776,
                55.8602639630046
              ],
              [
                55.22566817418386,
                55.896928619763635
              ],
              [
                55.33559504820629,
                55.89359689987458
              ],
              [
                55.406898966491035,
                55.86693283985826
              ],
              [
                55.43660893244311,
                55.821895698604855
              ],
              [
                55.46334790179985,
                55.80520203209283
              ],
              [
                55.47820288477597,
                55.78850120416321
              ],
              [
                55.490086871156656,
                55.7232995168611
              ],
              [
                55.53762281667992,
                55.62948584787469
              ],
              [
                55.55469614378028,
                55.58230429301067
              ],
              [
                55.63194205525549,
                55.51171148918575
              ],
              [
                55.735926936087566,
                55.51171148918575
              ],
              [
                55.84288281351479,
                55.53525651045504
              ],
              [
                55.967664670513216,
                55.58566269350186
              ],
              [
                56.01222961944122,
                55.625941092333456
              ],
              [
                55.99421269159857,
                55.642583038253655
              ],
              [
                56.13196859218325,
                55.55068244689616
              ],
              [
                56.17717759175701,
                55.51421457376269
              ],
              [
                56.44456728532506,
                55.411130235380085
              ],
              [
                56.55508835866658,
                55.28544880560446
              ],
              [
                56.544392770923835,
                55.17362310300943
              ],
              [
                56.423176109839666,
                55.10229752131545
              ],
              [
                56.23778592229912,
                55.00018260117081
              ],
              [
                56.01674377561611,
                54.967450808731954
              ],
              [
                55.85274476356103,
                54.98382004105215
              ],
              [
                55.62813742096383,
                55.00018260117081
              ],
              [
                55.51761634762236,
                55.01449436907371
              ],
              [
                55.39283449062393,
                55.065566147369104
              ],
              [
                55.27518302545401,
                55.14307060339818
              ],
              [
                55.17892273576949,
                55.19601339688278
              ],
              [
                54.97570656865769,
                55.30777623441826
              ],
              [
                54.83626682836071,
                55.36429975288497
              ],
              [
                54.77605559746019,
                55.427318150608436
              ],
              [
                54.68692569960424,
                55.496042798445586
              ],
              [
                54.551448254863,
                55.58480288641912
              ],
              [
                54.53224733878958,
                55.59502755842138
              ],
              [
                54.53354480736585,
                55.59693362370809
              ],
              [
                54.52784049390303,
                55.617072208083485
              ],
              [
                54.5178579453431,
                55.629955475974725
              ],
              [
                54.46651912417807,
                55.63559057419716
              ],
              [
                54.45751364022194,
                55.63479861369157
              ],
              [
                54.366058067322456,
                55.683413680756644
              ],
              [
                54.25553699398099,
                55.78177645880788
              ],
              [
                54.16641072273691,
                55.8692281566504
              ],
              [
                54.01667249433878,
                56.0050154661965
              ],
              [
                53.98815092702493,
                56.088646487473966
              ],
              [
                54.04519406165274,
                56.18598702404766
              ],
              [
                54.22345385736483,
                56.24348069807715
              ],
              [
                54.40884404490526,
                56.273184979982275
              ],
              [
                54.57640825287465,
                56.21970067007157
              ],
              [
                54.7324914015586,
                56.16180114507979
              ],
              [
                54.71287416185215,
                56.137518250751405
              ],
              [
                54.691482986366694,
                56.07257007434174
              ],
              [
                54.64157024356727,
                56.05133876741489
              ],
              [
                54.594034298044065,
                56.03673546132029
              ],
              [
                54.527483974311615,
                56.02212662736027
              ],
              [
                54.49361957499716,
                56.013714205236916
              ],
              [
                54.41102090777979,
                55.99688016336239
              ],
              [
                54.37146902044026,
                55.97135340090105
              ],
              [
                54.365527027249804,
                55.93975126437225
              ],
              [
                54.3836323387556,
                55.916875878755874
              ],
              [
                54.42146789488406,
                55.90148933130882
              ],
              [
                54.49420881244535,
                55.89439653874023
              ],
              [
                54.60116468987257,
                55.88639940847695
              ],
              [
                54.660584621776586,
                55.88106707268419
              ],
              [
                54.71287416185215,
                55.862398128163505
              ],
              [
                54.7437725264422,
                55.84238572675494
              ],
              [
                54.791308471965465,
                55.825033308314
              ],
              [
                54.83884441748868,
                55.81969254482952
              ],
              [
                54.86023559297414,
                55.81969254482952
              ]
            ],
            [
              [
                54.91692220801051,
                55.663552816018644
              ],
              [
                54.96635959135467,
                55.680709194071106
              ],
              [
                54.987275407384864,
                55.6946432123896
              ],
              [
                54.979669656101144,
                55.72677969217631
              ],
              [
                54.97206390481743,
                55.75460992995161
              ],
              [
                54.95304952660818,
                55.77172636681368
              ],
              [
                54.907415018905866,
                55.77493486229029
              ],
              [
                54.84276613299435,
                55.769587223096444
              ],
              [
                54.8104416900385,
                55.75995962361297
              ],
              [
                54.78952587400831,
                55.73320381635562
              ],
              [
                54.8028359387548,
                55.68821274400273
              ],
              [
                54.80854025221762,
                55.66891499230957
              ],
              [
                54.86558338684548,
                55.66248029259142
              ],
              [
                54.91692220801051,
                55.663552816018644
              ]
            ],
            [
              [
                55.579692128468,
                55.081428347774064
              ],
              [
                55.63673526309586,
                55.096391120047166
              ],
              [
                55.66763362768591,
                55.13581159601085
              ],
              [
                55.61772088488649,
                55.14803762804973
              ],
              [
                55.53453298022088,
                55.13717022898345
              ],
              [
                55.48224344014531,
                55.108629224081994
              ],
              [
                55.48224344014531,
                55.0868700036964
              ],
              [
                55.52502579111628,
                55.07734661992564
              ],
              [
                55.579692128468,
                55.081428347774064
              ]
            ]
          ],
          [
            [
              [
                55.95986123423768,
                55.66281446182333
              ],
              [
                55.90305539788966,
                55.68211621935008
              ],
              [
                55.86264984419495,
                55.70087172009655
              ],
              [
                55.79112853726408,
                55.72836679999404
              ],
              [
                55.75222126487266,
                55.74230662174783
              ],
              [
                55.751502551090006,
                55.76278149035762
              ],
              [
                55.95986123423768,
                55.66281446182333
              ]
            ]
          ],
          [
            [
              [
                58.14724906064671,
                56.53318028183323
              ],
              [
                58.09971311512351,
                56.41503398928147
              ],
              [
                58.01890200773398,
                56.33474784037269
              ],
              [
                57.99127050861273,
                56.32527782692557
              ],
              [
                58.0025953104575,
                56.35587736650137
              ],
              [
                58.00449674827845,
                56.39378303182562
              ],
              [
                57.987383807890076,
                56.430599619661045
              ],
              [
                57.981679494427304,
                56.46422933373837
              ],
              [
                57.981679494427304,
                56.49153156592646
              ],
              [
                57.94935505147153,
                56.50097776339766
              ],
              [
                57.907523419411085,
                56.50307659891408
              ],
              [
                57.880903289918066,
                56.49468055981815
              ],
              [
                57.86569178735065,
                56.47053159205724
              ],
              [
                57.858086036066936,
                56.42218754011339
              ],
              [
                57.844775971320395,
                56.38220474580055
              ],
              [
                57.854283160425105,
                56.34744876368
              ],
              [
                57.877100414276235,
                56.312661082968745
              ],
              [
                57.92273492197851,
                56.30633264322197
              ],
              [
                57.94417276120349,
                56.30913082175041
              ],
              [
                57.88817815754516,
                56.28992473054308
              ],
              [
                57.62566422767742,
                56.319885811794265
              ],
              [
                57.517397782464066,
                56.35713967337909
              ],
              [
                57.41281870231301,
                56.41371918653626
              ],
              [
                57.38429713499904,
                56.47415309965917
              ],
              [
                57.39855791865611,
                56.525315299396475
              ],
              [
                57.35137460178519,
                56.54521141426296
              ],
              [
                57.35339877040905,
                56.602583399427374
              ],
              [
                57.40806510776071,
                56.65618528436601
              ],
              [
                57.35107776645282,
                56.795336895995014
              ],
              [
                57.33206338824346,
                56.940833915285566
              ],
              [
                57.26486307187203,
                57.095906134000415
              ],
              [
                57.11334224551679,
                57.15235127871396
              ],
              [
                56.923198463423965,
                57.22158045094244
              ],
              [
                56.73008368473581,
                57.317962642201955
              ],
              [
                56.77589282562184,
                57.35342828251287
              ],
              [
                56.79015360927885,
                57.376500197460395
              ],
              [
                56.818675176592755,
                57.399557607316
              ],
              [
                56.90423987853458,
                57.45585913370842
              ],
              [
                56.99574446213296,
                57.475243385069504
              ],
              [
                57.10145825913593,
                57.45087590634165
              ],
              [
                57.37181894929931,
                57.37086538150447
              ],
              [
                57.61246967351055,
                57.28265179303558
              ],
              [
                57.68382938511535,
                57.2352784325458
              ],
              [
                57.750208404948225,
                57.18805711379647
              ],
              [
                57.86921957265582,
                57.080599077897936
              ],
              [
                57.97006215299312,
                56.97817220430955
              ],
              [
                58.04985616564407,
                56.886338865030794
              ],
              [
                58.15918884034745,
                56.80835072359792
              ],
              [
                58.23281376258842,
                56.75013128823281
              ],
              [
                58.2708425190071,
                56.678388132777506
              ],
              [
                58.14724906064671,
                56.53318028183323
              ]
            ]
          ]
        ]
      },
      "properties": {
        "Branch": "Mari",
        "Timeperiod": "traditional",
        "Sources": "Ivanov 1981, Sepeev 1975",
        "Glottocode": "east2328",
        "ISO_639_3": "mhr",
        "Language": "Eastern Mari",
        "Dialect": "",
        "title": "EasternMari: Eastern Mari",
        "description": "Speaker area of Eastern Mari in the traditional time period based on Ivanov 1981, Sepeev 1975.",
        "cldf:languageReference": "EasternMari",
        "Macroarea": "None",
        "ISO639P3code": "None",
        "Speaker_Area": "rantanenurageo",
        "stroke": "#222222",
        "fill": "#222222",
        "fill-opacity": 0.5
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          48.405,
          55.8307
        ]
      },
      "properties": {
        "title": "EasternMari -> east2328: Eastern Mari",
        "marker-color": "#222222"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "MultiPolygon",
        "coordinates": [
          [
            [
              [
                56.98974946551109,
                59.644824247114194
              ],
              [
                56.83979159398007,
                59.69375792274498
              ],
              [
                56.658727875983814,
                59.79938624254229
              ],
              [
                56.646682122498696,
                59.8127141831078
              ],
              [
                56.539888012175865,
                59.93064296307287
              ],
              [
                56.551771998556646,
                60.03171422420687
              ],
              [
                56.61119193046064,
                60.144311454991026
              ],
              [
                56.64966063463243,
                60.17165776495219
              ],
              [
                56.694379835126234,
                60.203418787583836
              ],
              [
                56.848871658076746,
                60.23883215797438
              ],
              [
                57.003363481027186,
                60.2824559889952
              ],
              [
                57.047568137978644,
                60.28349946457681
              ],
              [
                57.203014452224664,
                60.28716859713255
              ],
              [
                57.57379482730577,
                60.30130234715357
              ],
              [
                58.00161833701467,
                60.28716859713255
              ],
              [
                58.124683668152805,
                60.280857878911014
              ],
              [
                58.277326821049364,
                60.273028735128655
              ],
              [
                58.38329287331669,
                60.25331837962895
              ],
              [
                58.42944184672366,
                60.24473066804681
              ],
              [
                58.43940045620629,
                60.22385601756772
              ],
              [
                58.5150065486654,
                60.06494075797228
              ],
              [
                58.436837022108435,
                59.80822888597449
              ],
              [
                58.34771270138468,
                59.798267342895016
              ],
              [
                58.34051052234575,
                59.7981934034671
              ],
              [
                58.34051052234575,
                59.6942078973134
              ],
              [
                58.32486276657257,
                59.67841199186803
              ],
              [
                58.20126930821221,
                59.59190538125218
              ],
              [
                58.03964709343325,
                59.543749766919646
              ],
              [
                57.65935952924757,
                59.543749766919646
              ],
              [
                57.21252164132931,
                59.59671715406993
              ],
              [
                57.16809910526844,
                59.60632743531789
              ],
              [
                56.98974946551109,
                59.644824247114194
              ]
            ]
          ]
        ]
      },
      "properties": {
        "Branch": "Permic",
        "Timeperiod": "traditional",
        "Sources": "Lytkin 1962, Teplja\u0161ina & Lytkin 1976, Komi jazyk 1998",
        "Glottocode": "komi1277",
        "ISO_639_3": null,
        "Language": "Komi-Yazva",
        "Dialect": "",
        "title": "KomiYazva: Komi-Yazva",
        "description": "Speaker area of Komi-Yazva in the traditional time period based on Lytkin 1962, Teplja\u0161ina & Lytkin 1976, Komi jazyk 1998.",
        "cldf:languageReference": "KomiYazva",
        "Macroarea": "None",
        "ISO639P3code": "None",
        "Speaker_Area": "rantanenurageo",
        "stroke": "#F3C300",
        "fill": "#F3C300",
        "fill-opacity": 0.5
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          55.756,
          60.717
        ]
      },
      "properties": {
        "title": "KomiYazva -> komi1277: Komi-Yazva",
        "marker-color": "#F3C300"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "MultiPolygon",
        "coordinates": [
          [
            [
              [
                82.7617478876448,
                58.176447676238865
              ],
              [
                82.88150168293072,
                58.14233042197116
              ],
              [
                82.99415294415726,
                58.11380289640628
              ],
              [
                83.04633153307908,
                58.10571598860571
              ],
              [
                83.14727796803881,
                58.09006557951171
              ],
              [
                83.22182625461662,
                58.08834042876858
              ],
              [
                83.30073969108766,
                58.07195206512704
              ],
              [
                83.3996909580951,
                58.02598363883157
              ],
              [
                83.47268131359453,
                57.98273823086902
              ],
              [
                83.49180728165258,
                57.97139781562623
              ],
              [
                83.51120013960728,
                57.936051311309186
              ],
              [
                83.3601136239314,
                57.791729453258746
              ],
              [
                83.24173679047803,
                57.68133122825907
              ],
              [
                83.0948291923623,
                57.55987585388765
              ],
              [
                82.93178776614289,
                57.435719760094834
              ],
              [
                82.74513711455647,
                57.355425488976095
              ],
              [
                82.50405902575783,
                57.287524911468935
              ],
              [
                82.14948518053741,
                57.180419790535026
              ],
              [
                81.82271323637835,
                57.028470878059316
              ],
              [
                81.69798095326739,
                56.983657396155955
              ],
              [
                81.3769519098996,
                56.885735420999445
              ],
              [
                81.28199489646818,
                56.86926305287434
              ],
              [
                81.24366063565508,
                56.884144935439586
              ],
              [
                81.2674758764166,
                56.93037594347868
              ],
              [
                81.2865084749878,
                56.99697054936289
              ],
              [
                81.28784812022597,
                57.03469941987466
              ],
              [
                81.26606539570844,
                57.04942330231442
              ],
              [
                81.19984074854668,
                57.07035554277698
              ],
              [
                81.17289083984242,
                57.099624149667626
              ],
              [
                81.17468181936907,
                57.154762465156224
              ],
              [
                81.1774259885457,
                57.23891581349856
              ],
              [
                81.23024118919494,
                57.30810305889388
              ],
              [
                81.26085938966203,
                57.380379055761054
              ],
              [
                81.28533878721072,
                57.43529058581065
              ],
              [
                81.32843970016033,
                57.53354496634138
              ],
              [
                81.42311628635004,
                57.639955603550746
              ],
              [
                81.5313540054433,
                57.78386764610367
              ],
              [
                81.65094962687618,
                57.90724239747741
              ],
              [
                81.80560811255314,
                58.02715491716104
              ],
              [
                81.94886104834794,
                58.12965140110113
              ],
              [
                82.09000916272662,
                58.182712053107636
              ],
              [
                82.17720443983303,
                58.19587213045809
              ],
              [
                82.34984515623773,
                58.193042113758274
              ],
              [
                82.48382741232346,
                58.21391250850547
              ],
              [
                82.5269657478573,
                58.22137255480643
              ],
              [
                82.55972838765695,
                58.227037252472094
              ],
              [
                82.6339405742571,
                58.21693623281663
              ],
              [
                82.67313432460209,
                58.20167218043483
              ],
              [
                82.7617478876448,
                58.176447676238865
              ]
            ]
          ],
          [
            [
              [
                83.0720380553662,
                58.6751999024193
              ],
              [
                83.00967515627842,
                58.630120330290865
              ],
              [
                82.95049323660147,
                58.59769707582209
              ],
              [
                82.77484365583163,
                58.583325732129936
              ],
              [
                82.71626470514225,
                58.54965649076746
              ],
              [
                82.71485786172683,
                58.53169280701941
              ],
              [
                82.71485826251775,
                58.531692522191946
              ],
              [
                82.7820097567069,
                58.48393792818909
              ],
              [
                82.88716527235246,
                58.420850556776344
              ],
              [
                82.97633363842202,
                58.37833503670985
              ],
              [
                83.04016228329027,
                58.3130932071727
              ],
              [
                83.08826144210347,
                58.26848675247211
              ],
              [
                83.09696565409548,
                58.236360163019455
              ],
              [
                83.07561695140652,
                58.22652775694241
              ],
              [
                83.04887265539676,
                58.21420649932824
              ],
              [
                82.98481893207433,
                58.20689717449594
              ],
              [
                82.88698691495752,
                58.20897695297898
              ],
              [
                82.84188521312872,
                58.22152241855318
              ],
              [
                82.802549823736,
                58.24029722817907
              ],
              [
                82.75295348219893,
                58.263955440744546
              ],
              [
                82.60327556062633,
                58.26975489101978
              ],
              [
                82.49288654357741,
                58.26018010126764
              ],
              [
                82.48496780967352,
                58.26314920690874
              ],
              [
                82.41974590156006,
                58.287594506308814
              ],
              [
                82.31819592339808,
                58.324150640412846
              ],
              [
                82.23248067828726,
                58.3400646705226
              ],
              [
                82.14365810798745,
                58.306650637691924
              ],
              [
                82.07230987253952,
                58.272921137172396
              ],
              [
                81.95564483551414,
                58.25140937950408
              ],
              [
                81.89270070427915,
                58.26098824901326
              ],
              [
                81.83686352980207,
                58.29655136368729
              ],
              [
                81.83686128846111,
                58.29655279049748
              ],
              [
                81.83769345143824,
                58.31237127172643
              ],
              [
                81.84417670656681,
                58.43511696777929
              ],
              [
                81.89129744048897,
                58.58679118204808
              ],
              [
                81.8948074114996,
                58.59803523005734
              ],
              [
                81.9384174295165,
                58.6346741291702
              ],
              [
                81.94393337509419,
                58.66349366967729
              ],
              [
                81.9689186958969,
                58.692149960886724
              ],
              [
                82.00923372366448,
                58.69535965707749
              ],
              [
                82.0922203239942,
                58.701965736029166
              ],
              [
                82.21540563912988,
                58.70877509634063
              ],
              [
                82.40208495255067,
                58.70279921304831
              ],
              [
                82.53722514154227,
                58.712022745507966
              ],
              [
                82.67378459701466,
                58.73849898406064
              ],
              [
                82.76469625671221,
                58.777358604947395
              ],
              [
                82.86752660566233,
                58.815920185077395
              ],
              [
                82.96808482347248,
                58.825440462309906
              ],
              [
                83.09057248318923,
                58.816997557913034
              ],
              [
                83.19274856680731,
                58.77988669147459
              ],
              [
                83.20148452095778,
                58.74776204662925
              ],
              [
                83.17994324342317,
                58.704716750590244
              ],
              [
                83.0720380553662,
                58.6751999024193
              ]
            ]
          ]
        ]
      },
      "properties": {
        "Branch": "Samoyedic",
        "Timeperiod": "traditional",
        "Sources": "Tu\u010dkova et al. 2004, Gr\u00fcnthal & Salminen 1993, Olga Kazakevich (p.c.)",
        "Glottocode": "selk1253",
        "ISO_639_3": "sel",
        "Language": "Tomsk region Selkup",
        "Dialect": "Southern Selkup",
        "title": "TomskregionSelkupSouthernSelkup: Tomsk region Selkup [Southern Selkup]",
        "description": "Speaker area of Tomsk region Selkup (Southern Selkup) in the traditional time period based on Tu\u010dkova et al. 2004, Gr\u00fcnthal & Salminen 1993, Olga Kazakevich (p.c.).",
        "cldf:languageReference": "TomskregionSelkupSouthernSelkup",
        "Macroarea": "None",
        "ISO639P3code": "None",
        "Speaker_Area": "rantanenurageo",
        "stroke": "#875692",
        "fill": "#875692",
        "fill-opacity": 0.5
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          85.8581,
          58.6626
        ]
      },
      "properties": {
        "title": "TomskregionSelkupSouthernSelkup -> sout3262: Southern Selkup",
        "marker-color": "#875692"
      }
    }
  ],
  "properties": {}
}
```



- [`geojson.compare`](src/cldfgeojson/commands/compare.py)
- [`geojson.webmercator`](src/cldfgeojson/commands/webmercator.py)
- [`geojson.overlay`](src/cldfgeojson/commands/overlay.py)


## `leaflet.draw`

This package contains the [`leaflet.draw`](https://github.com/Leaflet/Leaflet.draw) plugin in the form of `data://` URLs in 
[a mako template](src/cldfgeojson/commands/templates/leaflet.draw.mako). `leaflet.draw` is
distributed under a MIT license:

> Copyright 2012-2017 Jon West, Jacob Toye, and Leaflet
> 
> Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
> 
> The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

